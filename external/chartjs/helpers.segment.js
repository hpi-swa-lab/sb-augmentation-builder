/* esm.sh - esbuild bundle(chart.js@4.4.4/dist/chunks/helpers.segment) es2022 production */
import{Color as me}from"./color.mjs";function Ut(){}var Yt=(()=>{let e=0;return()=>e++})();function L(e){return e===null||typeof e>"u"}function M(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function _(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function pe(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Jt(e,t){return pe(e)?e:t}function T(e,t){return typeof e>"u"?t:e}var Xt=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,De=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Zt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Vt(e,t,n,o){let r,i,s;if(M(e))if(i=e.length,o)for(r=i-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<i;r++)t.call(n,e[r],r);else if(_(e))for(s=Object.keys(e),i=s.length,r=0;r<i;r++)t.call(n,e[s[r]],s[r])}function en(e,t){let n,o,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,o=e.length;n<o;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function N(e){if(M(e))return e.map(N);if(_(e)){let t=Object.create(null),n=Object.keys(e),o=n.length,r=0;for(;r<o;++r)t[n[r]]=N(e[n[r]]);return t}return e}function be(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function We(e,t,n,o){if(!be(e))return;let r=t[e],i=n[e];_(r)&&_(i)?E(r,i,o):t[e]=N(i)}function E(e,t,n){let o=M(t)?t:[t],r=o.length;if(!_(e))return e;n=n||{};let i=n.merger||We,s;for(let a=0;a<r;++a){if(s=o[a],!_(s))continue;let c=Object.keys(s);for(let l=0,u=c.length;l<u;++l)i(c[l],e,s,n)}return e}function Le(e,t){return E(e,t,{merger:Ne})}function Ne(e,t,n){if(!be(e))return;let o=t[e],r=n[e];_(o)&&_(r)?Le(o,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=N(r))}function tn(e,t,n,o){t!==void 0&&console.warn(e+': "'+n+'" is deprecated. Please use "'+o+'" instead')}var te={"":e=>e,x:e=>e.x,y:e=>e.y};function Ee(e){let t=e.split("."),n=[],o="";for(let r of t)o+=r,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}function Fe(e){let t=Ee(e);return n=>{for(let o of t){if(o==="")break;n=n&&n[o]}return n}}function ye(e,t){return(te[t]||(te[t]=Fe(t)))(e)}function _e(e){return e.charAt(0).toUpperCase()+e.slice(1)}var nn=e=>typeof e<"u",F=e=>typeof e=="function",on=(e,t)=>{if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0};function rn(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var b=Math.PI,S=2*b,ze=S+b,z=Number.POSITIVE_INFINITY,He=b/180,O=b/2,P=b/4,ne=b*2/3,U=Math.log10,oe=Math.sign;function Me(e,t,n){return Math.abs(e-t)<n}function sn(e){let t=Math.round(e);e=Me(e,t,e/1e3)?t:e;let n=Math.pow(10,Math.floor(U(e))),o=e/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function an(e){let t=[],n=Math.sqrt(e),o;for(o=1;o<n;o++)e%o===0&&(t.push(o),t.push(e/o));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function cn(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ln(e,t){let n=Math.round(e);return n-t<=e&&n+t>=e}function un(e,t,n){let o,r,i;for(o=0,r=e.length;o<r;o++)i=e[o][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function fn(e){return e*(b/180)}function dn(e){return e*(180/b)}function hn(e){if(!pe(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function gn(e,t){let n=t.x-e.x,o=t.y-e.y,r=Math.sqrt(n*n+o*o),i=Math.atan2(o,n);return i<-.5*b&&(i+=S),{angle:i,distance:r}}function re(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qe(e,t){return(e-t+ze)%S-b}function w(e){return(e%S+S)%S}function Ke(e,t,n,o){let r=w(e),i=w(t),s=w(n),a=w(i-r),c=w(s-r),l=w(r-i),u=w(r-s);return r===i||r===s||o&&i===s||a>c&&l<u}function Y(e,t,n){return Math.max(t,Math.min(n,e))}function mn(e){return Y(e,-32768,32767)}function Qe(e,t,n,o=1e-6){return e>=Math.min(t,n)-o&&e<=Math.max(t,n)+o}function Se(e,t,n){n=n||(s=>e[s]<t);let o=e.length-1,r=0,i;for(;o-r>1;)i=r+o>>1,n(i)?r=i:o=i;return{lo:r,hi:o}}var B=(e,t,n,o)=>Se(e,n,o?r=>{let i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),pn=(e,t,n)=>Se(e,n,o=>e[o][t]>=n);function bn(e,t,n){let o=0,r=e.length;for(;o<r&&e[o]<t;)o++;for(;r>o&&e[r-1]>n;)r--;return o>0||r<e.length?e.slice(o,r):e}var Oe=["push","pop","shift","splice","unshift"];function yn(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Oe.forEach(n=>{let o="_onData"+_e(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){let s=r.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[o]=="function"&&a[o](...i)}),s}})})}function _n(e,t){let n=e._chartjs;if(!n)return;let o=n.listeners,r=o.indexOf(t);r!==-1&&o.splice(r,1),!(o.length>0)&&(Oe.forEach(i=>{delete e[i]}),delete e._chartjs)}function Mn(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}function Sn(e,t,n){return t+" "+e+"px "+n}var Ge=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function On(e,t){let n=[],o=!1;return function(...r){n=r,o||(o=!0,Ge.call(window,()=>{o=!1,e.apply(t,n)}))}}function wn(e,t){let n;return function(...o){return t?(clearTimeout(n),n=setTimeout(e,t,o)):e.apply(this,o),t}}var Pn=e=>e==="start"?"left":e==="end"?"right":"center",Tn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,xn=(e,t,n,o)=>e===(o?"left":"right")?n:e==="center"?(t+n)/2:t;function Cn(e,t,n){let o=t.length,r=0,i=o;if(e._sorted){let{iScale:s,_parsed:a}=e,c=s.axis,{min:l,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(r=Y(Math.min(B(a,c,l).lo,n?o:B(t,c,s.getPixelForValue(l)).lo),0,o-1)),h?i=Y(Math.max(B(a,s.axis,u,!0).hi+1,n?0:B(t,c,s.getPixelForValue(u),!0).hi+1),r,o)-r:i=o-r}return{start:r,count:i}}function kn(e){let{xScale:t,yScale:n,_scaleRanges:o}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!o)return e._scaleRanges=r,!0;let i=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,r),i}var j=e=>e===0||e===1,ie=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*S/n)),se=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*S/n)+1,Q={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*O)+1,easeOutSine:e=>Math.sin(e*O),easeInOutSine:e=>-.5*(Math.cos(b*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>j(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>j(e)?e:ie(e,.075,.3),easeOutElastic:e=>j(e)?e:se(e,.075,.3),easeInOutElastic(e){return j(e)?e:e<.5?.5*ie(e*2,.1125,.45):.5+.5*se(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Q.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Q.easeInBounce(e*2)*.5:Q.easeOutBounce(e*2-1)*.5+.5};function X(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Rn(e){return X(e)?e:new me(e)}function G(e){return X(e)?e:new me(e).saturate(.5).darken(.1).hexString()}var $e=["x","y","borderWidth","radius","tension"],Ue=["color","borderColor","backgroundColor"];function Ye(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Ue},numbers:{type:"number",properties:$e}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Je(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var ae=new Map;function Xe(e,t){t=t||{};let n=e+JSON.stringify(t),o=ae.get(n);return o||(o=new Intl.NumberFormat(e,t),ae.set(n,o)),o}function Ze(e,t,n){return Xe(t,n).format(e)}var we={values(e){return M(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";let o=this.chart.options.locale,r,i=e;if(n.length>1){let l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),i=Ve(e,n)}let s=U(Math.abs(i)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Ze(e,o,c)},logarithmic(e,t,n){if(e===0)return"0";let o=n[t].significand||e/Math.pow(10,Math.floor(U(e)));return[1,2,3,5,10,15].includes(o)||t>.8*n.length?we.numeric.call(this,e,t,n):""}};function Ve(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var et={formatters:we};function tt(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:et.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var nt=Object.create(null),ot=Object.create(null);function A(e,t){if(!t)return e;let n=t.split(".");for(let o=0,r=n.length;o<r;++o){let i=n[o];e=e[i]||(e[i]=Object.create(null))}return e}function $(e,t,n){return typeof t=="string"?E(A(e,t),n):E(A(e,""),t)}var J=class{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,r)=>G(r.backgroundColor),this.hoverBorderColor=(o,r)=>G(r.borderColor),this.hoverColor=(o,r)=>G(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return $(this,t,n)}get(t){return A(this,t)}describe(t,n){return $(ot,t,n)}override(t,n){return $(nt,t,n)}route(t,n,o,r){let i=A(this,t),s=A(this,o),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){let c=this[a],l=s[r];return _(c)?Object.assign({},l,c):T(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(n=>n(this))}},rt=new J({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ye,Je,tt]);function it(e){return!e||L(e.size)||L(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ce(e,t,n,o,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>o&&(o=i),o}function In(e,t,n,o){o=o||{};let r=o.data=o.data||{},i=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(r=o.data={},i=o.garbageCollect=[],o.font=t),e.save(),e.font=t;let s=0,a=n.length,c,l,u,d,h;for(c=0;c<a;c++)if(d=n[c],d!=null&&!M(d))s=ce(e,r,i,s,d);else if(M(d))for(l=0,u=d.length;l<u;l++)h=d[l],h!=null&&!M(h)&&(s=ce(e,r,i,s,h));e.restore();let m=i.length/2;if(m>n.length){for(c=0;c<m;c++)delete r[i[c]];i.splice(0,m)}return s}function vn(e,t,n){let o=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*o)/o+r}function An(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Bn(e,t,n,o){st(e,t,n,o,null)}function st(e,t,n,o,r){let i,s,a,c,l,u,d,h,m=t.pointStyle,p=t.rotation,g=t.radius,f=(p||0)*He;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,o),e.rotate(f),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:r?e.ellipse(n,o,r/2,g,0,0,S):e.arc(n,o,g,0,S),e.closePath();break;case"triangle":u=r?r/2:g,e.moveTo(n+Math.sin(f)*u,o-Math.cos(f)*g),f+=ne,e.lineTo(n+Math.sin(f)*u,o-Math.cos(f)*g),f+=ne,e.lineTo(n+Math.sin(f)*u,o-Math.cos(f)*g),e.closePath();break;case"rectRounded":l=g*.516,c=g-l,s=Math.cos(f+P)*c,d=Math.cos(f+P)*(r?r/2-l:c),a=Math.sin(f+P)*c,h=Math.sin(f+P)*(r?r/2-l:c),e.arc(n-d,o-a,l,f-b,f-O),e.arc(n+h,o-s,l,f-O,f),e.arc(n+d,o+a,l,f,f+O),e.arc(n-h,o+s,l,f+O,f+b),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=r?r/2:c,e.rect(n-u,o-c,2*u,2*c);break}f+=P;case"rectRot":d=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,a=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-d,o-a),e.lineTo(n+h,o-s),e.lineTo(n+d,o+a),e.lineTo(n-h,o+s),e.closePath();break;case"crossRot":f+=P;case"cross":d=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,a=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-d,o-a),e.lineTo(n+d,o+a),e.moveTo(n+h,o-s),e.lineTo(n-h,o+s);break;case"star":d=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,a=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-d,o-a),e.lineTo(n+d,o+a),e.moveTo(n+h,o-s),e.lineTo(n-h,o+s),f+=P,d=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,a=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-d,o-a),e.lineTo(n+d,o+a),e.moveTo(n+h,o-s),e.lineTo(n-h,o+s);break;case"line":s=r?r/2:Math.cos(f)*g,a=Math.sin(f)*g,e.moveTo(n-s,o-a),e.lineTo(n+s,o+a);break;case"dash":e.moveTo(n,o),e.lineTo(n+Math.cos(f)*(r?r/2:g),o+Math.sin(f)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function le(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function jn(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Dn(e){e.restore()}function Wn(e,t,n,o,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){let i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else r==="after"!=!!o?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Ln(e,t,n,o){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function at(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),L(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ct(e,t,n,o,r){if(r.strikethrough||r.underline){let i=e.measureText(o),s=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,l=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function lt(e,t){let n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Nn(e,t,n,o,r,i={}){let s=M(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="",c,l;for(e.save(),e.font=r.string,at(e,i),c=0;c<s.length;++c)l=s[c],i.backdrop&&lt(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),L(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(l,n,o,i.maxWidth)),e.fillText(l,n,o,i.maxWidth),ct(e,n,o,l,i),o+=Number(r.lineHeight);e.restore()}function En(e,t){let{x:n,y:o,w:r,h:i,radius:s}=t;e.arc(n+s.topLeft,o+s.topLeft,s.topLeft,1.5*b,b,!0),e.lineTo(n,o+i-s.bottomLeft),e.arc(n+s.bottomLeft,o+i-s.bottomLeft,s.bottomLeft,b,O,!0),e.lineTo(n+r-s.bottomRight,o+i),e.arc(n+r-s.bottomRight,o+i-s.bottomRight,s.bottomRight,O,0,!0),e.lineTo(n+r,o+s.topRight),e.arc(n+r-s.topRight,o+s.topRight,s.topRight,0,-O,!0),e.lineTo(n+s.topLeft,o)}var ut=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ft=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dt(e,t){let n=(""+e).match(ut);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}var ht=e=>+e||0;function Pe(e,t){let n={},o=_(t),r=o?Object.keys(t):t,i=_(e)?o?s=>T(e[s],e[t[s]]):s=>e[s]:()=>e;for(let s of r)n[s]=ht(i(s));return n}function gt(e){return Pe(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fn(e){return Pe(e,["topLeft","topRight","bottomLeft","bottomRight"])}function zn(e){let t=gt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Hn(e,t){e=e||{},t=t||rt.font;let n=T(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let o=T(e.style,t.style);o&&!(""+o).match(ft)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);let r={family:T(e.family,t.family),lineHeight:dt(T(e.lineHeight,t.lineHeight),n),size:n,style:o,weight:T(e.weight,t.weight),string:""};return r.string=it(r),r}function qn(e,t,n,o){let r=!0,i,s,a;for(i=0,s=e.length;i<s;++i)if(a=e[i],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&M(a)&&(a=a[n%a.length],r=!1),a!==void 0))return o&&!r&&(o.cacheable=!1),a}function Kn(e,t,n){let{min:o,max:r}=e,i=De(t,(r-o)/2),s=(a,c)=>n&&a===0?0:a+c;return{min:s(o,-Math.abs(i)),max:s(r,i)}}function mt(e,t){return Object.assign(Object.create(e),t)}function Te(e,t=[""],n,o,r=()=>e[0]){let i=n||e;typeof o>"u"&&(o=ke("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:o,_getTarget:r,override:a=>Te([a,...e],t,i,o)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return xe(a,c,()=>Pt(c,t,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return fe(a).includes(c)},ownKeys(a){return fe(a)},set(a,c,l){let u=a._storage||(a._storage=r());return a[c]=u[c]=l,delete a._keys,!0}})}function H(e,t,n,o){let r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:pt(e,o),setContext:i=>H(e,i,n,o),override:i=>H(e.override(i),t,n,o)};return new Proxy(r,{deleteProperty(i,s){return delete i[s],delete e[s],!0},get(i,s,a){return xe(i,s,()=>yt(i,s,a))},getOwnPropertyDescriptor(i,s){return i._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(i,s,a){return e[s]=a,delete i[s],!0}})}function pt(e,t={scriptable:!0,indexable:!0}){let{_scriptable:n=t.scriptable,_indexable:o=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:o,isScriptable:F(n)?n:()=>n,isIndexable:F(o)?o:()=>o}}var bt=(e,t)=>e?e+_e(t):t,Z=(e,t)=>_(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function xe(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];let o=n();return e[t]=o,o}function yt(e,t,n){let{_proxy:o,_context:r,_subProxy:i,_descriptors:s}=e,a=o[t];return F(a)&&s.isScriptable(t)&&(a=_t(t,a,e,n)),M(a)&&a.length&&(a=Mt(t,a,e,s.isIndexable)),Z(t,a)&&(a=H(a,r,i&&i[t],s)),a}function _t(e,t,n,o){let{_proxy:r,_context:i,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(i,s||o);return a.delete(e),Z(e,c)&&(c=V(r._scopes,r,e,c)),c}function Mt(e,t,n,o){let{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;if(typeof i.index<"u"&&o(e))return t[i.index%t.length];if(_(t[0])){let c=t,l=r._scopes.filter(u=>u!==c);t=[];for(let u of c){let d=V(l,r,e,u);t.push(H(d,i,s&&s[e],a))}}return t}function Ce(e,t,n){return F(e)?e(t,n):e}var St=(e,t)=>e===!0?t:typeof e=="string"?ye(t,e):void 0;function Ot(e,t,n,o,r){for(let i of t){let s=St(n,i);if(s){e.add(s);let a=Ce(s._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==o)return a}else if(s===!1&&typeof o<"u"&&n!==o)return null}return!1}function V(e,t,n,o){let r=t._rootScopes,i=Ce(t._fallback,n,o),s=[...e,...r],a=new Set;a.add(o);let c=ue(a,s,n,i||n,o);return c===null||typeof i<"u"&&i!==n&&(c=ue(a,s,i,c,o),c===null)?!1:Te(Array.from(a),[""],r,i,()=>wt(t,n,o))}function ue(e,t,n,o,r){for(;n;)n=Ot(e,t,n,o,r);return n}function wt(e,t,n){let o=e._getTarget();t in o||(o[t]={});let r=o[t];return M(r)&&_(n)?n:r||{}}function Pt(e,t,n,o){let r;for(let i of t)if(r=ke(bt(i,e),n),typeof r<"u")return Z(e,r)?V(n,o,e,r):r}function ke(e,t){for(let n of t){if(!n)continue;let o=n[e];if(typeof o<"u")return o}}function fe(e){let t=e._keys;return t||(t=e._keys=Tt(e._scopes)),t}function Tt(e){let t=new Set;for(let n of e)for(let o of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(o);return Array.from(t)}function Qn(e,t,n,o){let{iScale:r}=e,{key:i="r"}=this._parsing,s=new Array(o),a,c,l,u;for(a=0,c=o;a<c;++a)l=a+n,u=t[l],s[a]={r:r.parse(ye(u,i),l)};return s}var xt=Number.EPSILON||1e-14,I=(e,t)=>t<e.length&&!e[t].skip&&e[t],Re=e=>e==="x"?"y":"x";function Ct(e,t,n,o){let r=e.skip?t:e,i=t,s=n.skip?t:n,a=re(i,r),c=re(s,i),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let d=o*l,h=o*u;return{previous:{x:i.x-d*(s.x-r.x),y:i.y-d*(s.y-r.y)},next:{x:i.x+h*(s.x-r.x),y:i.y+h*(s.y-r.y)}}}function kt(e,t,n){let o=e.length,r,i,s,a,c,l=I(e,0);for(let u=0;u<o-1;++u)if(c=l,l=I(e,u+1),!(!c||!l)){if(Me(t[u],0,xt)){n[u]=n[u+1]=0;continue}r=n[u]/t[u],i=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(s=3/Math.sqrt(a),n[u]=r*s*t[u],n[u+1]=i*s*t[u])}}function Rt(e,t,n="x"){let o=Re(n),r=e.length,i,s,a,c=I(e,0);for(let l=0;l<r;++l){if(s=a,a=c,c=I(e,l+1),!a)continue;let u=a[n],d=a[o];s&&(i=(u-s[n])/3,a[`cp1${n}`]=u-i,a[`cp1${o}`]=d-i*t[l]),c&&(i=(c[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${o}`]=d+i*t[l])}}function It(e,t="x"){let n=Re(t),o=e.length,r=Array(o).fill(0),i=Array(o),s,a,c,l=I(e,0);for(s=0;s<o;++s)if(a=c,c=l,l=I(e,s+1),!!c){if(l){let u=l[t]-c[t];r[s]=u!==0?(l[n]-c[n])/u:0}i[s]=a?l?oe(r[s-1])!==oe(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}kt(e,r,i),Rt(e,i,t)}function D(e,t,n){return Math.max(Math.min(e,n),t)}function vt(e,t){let n,o,r,i,s,a=le(e[0],t);for(n=0,o=e.length;n<o;++n)s=i,i=a,a=n<o-1&&le(e[n+1],t),i&&(r=e[n],s&&(r.cp1x=D(r.cp1x,t.left,t.right),r.cp1y=D(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=D(r.cp2x,t.left,t.right),r.cp2y=D(r.cp2y,t.top,t.bottom)))}function Gn(e,t,n,o,r){let i,s,a,c;if(t.spanGaps&&(e=e.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")It(e,r);else{let l=o?e[e.length-1]:e[0];for(i=0,s=e.length;i<s;++i)a=e[i],c=Ct(l,a,e[Math.min(i+1,s-(o?0:1))%s],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&vt(e,n)}function At(){return typeof window<"u"&&typeof document<"u"}function Bt(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function q(e,t,n){let o;return typeof e=="string"?(o=parseInt(e,10),e.indexOf("%")!==-1&&(o=o/100*t.parentNode[n])):o=e,o}var K=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function jt(e,t){return K(e).getPropertyValue(t)}var Dt=["top","right","bottom","left"];function x(e,t,n){let o={};n=n?"-"+n:"";for(let r=0;r<4;r++){let i=Dt[r];o[i]=parseFloat(e[t+"-"+i+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}var Wt=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Lt(e,t){let n=e.touches,o=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=o,s=!1,a,c;if(Wt(r,i,e.target))a=r,c=i;else{let l=t.getBoundingClientRect();a=o.clientX-l.left,c=o.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function $n(e,t){if("native"in e)return e;let{canvas:n,currentDevicePixelRatio:o}=t,r=K(n),i=r.boxSizing==="border-box",s=x(r,"padding"),a=x(r,"border","width"),{x:c,y:l,box:u}=Lt(e,n),d=s.left+(u&&a.left),h=s.top+(u&&a.top),{width:m,height:p}=t;return i&&(m-=s.width+a.width,p-=s.height+a.height),{x:Math.round((c-d)/m*n.width/o),y:Math.round((l-h)/p*n.height/o)}}function Nt(e,t,n){let o,r;if(t===void 0||n===void 0){let i=e&&Bt(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{let s=i.getBoundingClientRect(),a=K(i),c=x(a,"border","width"),l=x(a,"padding");t=s.width-l.width-c.width,n=s.height-l.height-c.height,o=q(a.maxWidth,i,"clientWidth"),r=q(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:o||z,maxHeight:r||z}}var W=e=>Math.round(e*10)/10;function Un(e,t,n,o){let r=K(e),i=x(r,"margin"),s=q(r.maxWidth,e,"clientWidth")||z,a=q(r.maxHeight,e,"clientHeight")||z,c=Nt(e,t,n),{width:l,height:u}=c;if(r.boxSizing==="content-box"){let h=x(r,"border","width"),m=x(r,"padding");l-=m.width+h.width,u-=m.height+h.height}return l=Math.max(0,l-i.width),u=Math.max(0,o?l/o:u-i.height),l=W(Math.min(l,s,c.maxWidth)),u=W(Math.min(u,a,c.maxHeight)),l&&!u&&(u=W(l/2)),(t!==void 0||n!==void 0)&&o&&c.height&&u>c.height&&(u=c.height,l=W(Math.floor(u*o))),{width:l,height:u}}function Yn(e,t,n){let o=t||1,r=Math.floor(e.height*o),i=Math.floor(e.width*o);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==o||s.height!==r||s.width!==i?(e.currentDevicePixelRatio=o,s.height=r,s.width=i,e.ctx.setTransform(o,0,0,o,0,0),!0):!1}var Jn=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};At()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Xn(e,t){let n=jt(e,t),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function R(e,t,n,o){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Zn(e,t,n,o){return{x:e.x+n*(t.x-e.x),y:o==="middle"?n<.5?e.y:t.y:o==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function Vn(e,t,n,o){let r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},s=R(e,r,n),a=R(r,i,n),c=R(i,t,n),l=R(s,a,n),u=R(a,c,n);return R(l,u,n)}var Et=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,o){return n-o},leftForLtr(n,o){return n-o}}},Ft=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function eo(e,t,n){return e?Et(t,n):Ft()}function to(e,t){let n,o;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=o)}function no(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ie(e){return e==="angle"?{between:Ke,compare:qe,normalize:w}:{between:Qe,compare:(t,n)=>t-n,normalize:t=>t}}function de({start:e,end:t,count:n,loop:o,style:r}){return{start:e%n,end:t%n,loop:o&&(t-e+1)%n===0,style:r}}function zt(e,t,n){let{property:o,start:r,end:i}=n,{between:s,normalize:a}=Ie(o),c=t.length,{start:l,end:u,loop:d}=e,h,m;if(d){for(l+=c,u+=c,h=0,m=c;h<m&&s(a(t[l%c][o]),r,i);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:e.style}}function Ht(e,t,n){if(!n)return[e];let{property:o,start:r,end:i}=n,s=t.length,{compare:a,between:c,normalize:l}=Ie(o),{start:u,end:d,loop:h,style:m}=zt(e,t,n),p=[],g=!1,f=null,y,C,v,ve=()=>c(r,v,y)&&a(r,v)!==0,Ae=()=>a(i,y)===0||c(i,v,y),Be=()=>g||ve(),je=()=>!g||Ae();for(let k=u,ee=u;k<=d;++k)C=t[k%s],!C.skip&&(y=l(C[o]),y!==v&&(g=c(y,r,i),f===null&&Be()&&(f=a(y,r)===0?k:ee),f!==null&&je()&&(p.push(de({start:f,end:k,loop:h,count:s,style:m})),f=null),ee=k,v=y));return f!==null&&p.push(de({start:f,end:d,loop:h,count:s,style:m})),p}function oo(e,t){let n=[],o=e.segments;for(let r=0;r<o.length;r++){let i=Ht(o[r],e.points,t);i.length&&n.push(...i)}return n}function qt(e,t,n,o){let r=0,i=t-1;if(n&&!o)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}function Kt(e,t,n,o){let r=e.length,i=[],s=t,a=e[t],c;for(c=t+1;c<=n;++c){let l=e[c%r];l.skip||l.stop?a.skip||(o=!1,i.push({start:t%r,end:(c-1)%r,loop:o}),t=s=l.stop?c:null):(s=c,a.skip&&(t=c)),a=l}return s!==null&&i.push({start:t%r,end:s%r,loop:o}),i}function ro(e,t){let n=e.points,o=e.options.spanGaps,r=n.length;if(!r)return[];let i=!!e._loop,{start:s,end:a}=qt(n,r,i,o);if(o===!0)return he(e,[{start:s,end:a,loop:i}],n,t);let c=a<s?a+r:a,l=!!e._fullLoop&&s===0&&a===r-1;return he(e,Kt(n,s,c,l),n,t)}function he(e,t,n,o){return!o||!o.setContext||!n?t:Qt(e,t,n,o)}function Qt(e,t,n,o){let r=e._chart.getContext(),i=ge(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,c=n.length,l=[],u=i,d=t[0].start,h=d;function m(p,g,f,y){let C=a?-1:1;if(p!==g){for(p+=c;n[p%c].skip;)p-=C;for(;n[g%c].skip;)g+=C;p%c!==g%c&&(l.push({start:p%c,end:g%c,loop:f,style:y}),u=y,d=g%c)}}for(let p of t){d=a?d:p.start;let g=n[d%c],f;for(h=d+1;h<=p.end;h++){let y=n[h%c];f=ge(o.setContext(mt(r,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:s}))),Gt(f,u)&&m(d,h-1,p.loop,u),g=y,u=f}d<h-1&&m(d,h-1,p.loop,u)}return l}function ge(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Gt(e,t){if(!t)return!1;let n=[],o=function(r,i){return X(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,o)!==JSON.stringify(t,o)}export{Dn as $,pn as A,B,le as C,gn as D,zn as E,Vt as F,Un as G,O as H,Bt as I,Xn as J,Jn as K,On as L,At as M,an as N,Jt as O,b as P,Zt as Q,Kn as R,Y as S,S as T,dn as U,ce as V,mn as W,vn as X,jn as Y,Nn as Z,Mn as _,qn as a,Sn as a$,Hn as a0,Pn as a1,Tn as a2,nt as a3,E as a4,_e as a5,ot as a6,F as a7,H as a8,Te as a9,to as aA,xn as aB,no as aC,st as aD,re as aE,Ut as aF,un as aG,sn as aH,ln as aI,Me as aJ,hn as aK,et as aL,U as aM,In as aN,bn as aO,Se as aP,X as aQ,G as aR,N as aS,We as aT,Ne as aU,tn as aV,Ee as aW,it as aX,Ct as aY,It as aZ,jt as a_,pt as aa,Le as ab,Yt as ac,wn as ad,Yn as ae,An as af,on as ag,en as ah,rn as ai,Qe as aj,Pe as ak,Gn as al,ro as am,oo as an,Zn as ao,Vn as ap,R as aq,Wn as ar,Ln as as,Bn as at,En as au,gt as av,Fn as aw,Ht as ax,w as ay,eo as az,M as b,dt as b0,ze as b1,z as b2,He as b3,P as b4,ne as b5,qe as b6,Rn as c,rt as d,Q as e,ye as f,pe as g,nn as h,_ as i,mt as j,L as k,yn as l,Xt as m,De as n,Ze as o,Ke as p,Cn as q,Ge as r,oe as s,fn as t,_n as u,T as v,kn as w,cn as x,Qn as y,$n as z};
/*! Bundled license information:

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.4
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)
*/
//# sourceMappingURL=helpers.segment.js.map