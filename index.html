<!DOCTYPE html>

<html>
  <head>
    <title>Sandblocks Text</title>
  </head>
  <body>
    <h3>Smalltalk Demo</h3>
    <sb-extension-scope extensions="smalltalkBase base">
      <sb-editor
        text="initialize: aNumber

  true ifTrue: [2 + 2]"
        language="smalltalk"
      ></sb-editor>
    </sb-extension-scope>

    <h3>Javascript Demo</h3>
    <sb-extension-scope extensions="javascriptBase base">
      <sb-editor
        text="class A {
  field = true

  processTrigger(node, trigger) {
    this.newAttachedData = new Map();

    node.allNodesDo((node) => {
      for (const query of this.queries.get(trigger)) {
        runQuery(query(this), node);
      }
    });

    for (const key of this.attachedData.keys()) {
      if (!this.newAttachedData.has(key)) {
        this.attachedData.get(key)();
      }
    }

    this.attachedData = this.newAttachedData;
  }
}"
        language="javascript"
      ></sb-editor>
    </sb-extension-scope>

    <script src="tree-sitter.js"></script>
    <script src="md5.min.js"></script>
    <script type="module" src="main.js"></script>
  </body>
</html>
